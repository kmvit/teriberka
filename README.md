# Сервис бронирования катеров на Териберке

Django проект для бронирования катеров с API и админкой.

## Структура проекта

```
teriberka/
├── apps/
│   ├── accounts/      # Пользователи и роли
│   ├── boats/         # Катера и расписание доступности
│   └── bookings/      # Бронирования
├── config/            # Настройки Django
├── frontend/          # React приложение
│   ├── src/
│   │   ├── pages/     # Страницы приложения
│   │   ├── services/  # API сервисы
│   │   └── styles/    # CSS стили
│   └── package.json
├── manage.py
└── requirements.txt
```

## Установка

1. Создайте виртуальное окружение:
```bash
python3 -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Примените миграции:
```bash
python manage.py migrate
```

4. Создайте суперпользователя:
```bash
python manage.py createsuperuser
```

5. Запустите сервер:
```bash
python manage.py runserver
```

Админка будет доступна по адресу: http://127.0.0.1:8000/admin/

## Frontend (React)

1. Перейдите в папку frontend:
```bash
cd frontend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите dev сервер:
```bash
npm run dev
```

Frontend будет доступен по адресу: http://localhost:3000

**Примечание:** Убедитесь, что Django сервер запущен на порту 8000, так как frontend обращается к API по адресу http://localhost:8000/api

## Модели

### User (Пользователь)
- Роли: Клиент, Владелец катера, Гид
- Телефон, email, имя

### Boat (Катер)
- Название, владелец, вместимость
- Базовая ставка за человека
- Фото, описание

### BoatAvailability (Расписание доступности)
- День недели или конкретная дата
- Время начала и окончания
- Минимальная/максимальная длительность рейса

### Booking (Бронирование)
- Катер, дата и время начала/окончания
- Длительность, тип мероприятия
- Клиент (опционально), имя гостя, телефон
- Количество людей
- Ставка за человека (если не указана, используется базовая ставка катера)
- Общая стоимость, предоплата, остаток
- Способ оплаты, статус

## Бизнес-логика

Бронирование происходит напрямую на катер с указанием:
- Даты и времени начала/окончания
- Длительности
- Типа мероприятия
- Количества людей

Система проверяет доступность катера по расписанию (BoatAvailability) и существующим бронированиям.

## Следующие шаги

- Создать API endpoints (DRF)
- Реализовать логику проверки доступности катеров (проверка пересечений времени)
- Создать календарь доступных слотов
- Добавить систему уведомлений
- Интегрировать платежи

